{"version":3,"sources":["services/services.tsx","components/UrlEntry.tsx","App.tsx","index.tsx"],"names":["API_URL","getUrlInfo","url","a","axios","get","response","useStyles","makeStyles","theme","createStyles","root","padding","display","alignItems","input","marginLeft","spacing","flex","iconButton","UrlEntry","handleChange","handleSubmit","validUrl","loading","classes","Paper","className","InputBase","placeholder","inputProps","value","onChange","e","target","onKeyUp","key","IconButton","aria-label","onClick","disabled","CircularProgress","size","justifyContent","App","useState","setUrl","setLoading","urlInfo","setUrlInfo","setValidUrl","linksChecked","setLinksChecked","linkProgress","setLinkProgress","error","setError","checkLinks","links","checked","Promise","all","map","link","index","accessible","status","length","undefined","data","toString","Grid","container","item","xs","md","lg","Box","str","RegExp","test","mt","mb","LinearProgress","variant","Typography","title","replace","htmlVersion","login","filter","internal","headings","count","createMuiTheme","palette","type","window","matchMedia","matches","ReactDOM","render","ThemeProvider","CssBaseline","document","querySelector"],"mappings":"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","file":"static/js/main.ad33ab26.chunk.js","sourcesContent":["import axios, {AxiosResponse} from \"axios\";\n\nconst API_URL = \"http://127.0.0.1:8000\";\n\nexport async function getUrlInfo(url: string): Promise<AxiosResponse<any>>{\n  const response = await axios.get(`${API_URL}/url?url=${url}`);\n  return response;\n}\n\n  export function validURL(str: string) {\n    var pattern = new RegExp('^(https?:\\\\/\\\\/)?'+ // protocol\n      '((([a-z\\\\d]([a-z\\\\d-]*[a-z\\\\d])*)\\\\.)+[a-z]{2,}|'+ // domain name\n      '((\\\\d{1,3}\\\\.){3}\\\\d{1,3}))'+ // OR ip (v4) address\n      '(\\\\:\\\\d+)?(\\\\/[-a-z\\\\d%_.~+]*)*'+ // port and path\n      '(\\\\?[;&a-z\\\\d%_.~+=-]*)?'+ // query string\n      '(\\\\#[-a-z\\\\d_]*)?$','i'); // fragment locator\n    return !!pattern.test(str);\n  }","import {\n  CircularProgress,\n  createStyles,\n  IconButton,\n  InputBase,\n  makeStyles,\n  Paper,\n  Theme,\n} from \"@material-ui/core\";\nimport SearchIcon from \"@material-ui/icons/Search\";\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      padding: \"2px 4px\",\n      display: \"flex\",\n      alignItems: \"center\",\n    },\n    input: {\n      marginLeft: theme.spacing(1),\n      flex: 1,\n    },\n    iconButton: {\n      padding: 10,\n    },\n  })\n);\n\ntype Props = {\n  url: string;\n  handleChange: (url: string) => void;\n  handleSubmit: () => void;\n  validUrl: boolean;\n  loading: boolean;\n};\n\nexport const UrlEntry: React.FC<Props> = ({\n  url,\n  handleChange,\n  handleSubmit,\n  validUrl,\n  loading,\n}) => {\n  const classes = useStyles();\n\n  return (\n    <Paper className={classes.root}>\n      <InputBase\n        className={classes.input}\n        placeholder=\"Enter URL\"\n        inputProps={{ \"aria-label\": \"enter url\" }}\n        value={url}\n        onChange={(e) => handleChange(e.target.value)}\n        onKeyUp={(e) => {\n          if (validUrl && e.key == \"Enter\") handleSubmit();\n        }}\n      />\n      <IconButton\n        className={classes.iconButton}\n        aria-label=\"search\"\n        onClick={handleSubmit}\n        disabled={!validUrl}\n      >\n        {loading ? <CircularProgress size={24} /> : <SearchIcon />}\n      </IconButton>\n    </Paper>\n  );\n};\n","import Container from \"@material-ui/core/Container\";\nimport Box from \"@material-ui/core/Box\";\nimport {\n  createStyles,\n  makeStyles,\n  Typography,\n  Theme,\n  Grid,\n  LinearProgress,\n} from \"@material-ui/core\";\n\nimport { getUrlInfo, validURL } from \"./services/services\";\nimport { UrlEntry } from \"./components/UrlEntry\";\nimport { useState } from \"react\";\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      padding: theme.spacing(3, 2),\n      display: \"flex\",\n      justifyContent: \"center\",\n    },\n  })\n);\n\ntype urlInfo = {\n  url: string;\n  title: string;\n  htmlVersion: string;\n  headings: heading[];\n  links: link[];\n  login: boolean;\n};\n\ntype heading = {\n  importance: number;\n  count: number;\n};\n\ntype link = {\n  link: string;\n  internal: boolean;\n  accessible: boolean;\n};\n\nconst App: React.FC = () => {\n  const classes = useStyles();\n  const [url, setUrl] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n  const [urlInfo, setUrlInfo] = useState<urlInfo>();\n  const [validUrl, setValidUrl] = useState(false);\n  const [linksChecked, setLinksChecked] = useState(false);\n  const [linkProgress, setLinkProgress] = useState(0);\n  const [error, setError] = useState(\"\");\n\n  function checkLinks(links: Array<link>): Promise<any> {\n    var checked = 0;\n    return Promise.all(\n      links.map(async (link: link, index) => {\n        try {\n          const response = await getUrlInfo(link.link);\n          link.accessible = response.status == 200;\n          checked++;\n          setLinkProgress((checked / links.length) * 100);\n        } catch (err) {\n          checked++;\n          setLinkProgress((checked / links.length) * 100);\n          return link;\n        }\n        return link;\n      })\n    );\n  }\n\n  async function handleSubmit() {\n    setUrlInfo(undefined);\n    setLinkProgress(0);\n    setError(\"\");\n    setLinksChecked(false);\n    setLoading(true);\n    try {\n      const response = await getUrlInfo(url);\n      setUrl(response.data.url);\n      setUrlInfo(response.data);\n      setLoading(false);\n      if (response.data.links) {\n        await checkLinks(response.data.links);\n      }\n    } catch (err) {\n      setError(err.toString());\n    }\n    setLinksChecked(true);\n    setLinkProgress(100);\n  }\n\n  const handleChange = (url: string) => {\n    setLinkProgress(0);\n    setError(\"\");\n    setLinksChecked(false);\n    setUrlInfo(undefined);\n    setLoading(false);\n    setUrl(url);\n    setValidUrl(validURL(url));\n  };\n\n  return (\n    <Grid container className={classes.root} alignItems=\"center\">\n      <Grid item xs={12} md={6} lg={4}>\n        <Box>\n          <UrlEntry\n            url={url}\n            handleChange={handleChange}\n            handleSubmit={handleSubmit}\n            validUrl={validUrl}\n            loading={loading}\n          />\n        </Box>\n        {urlInfo ? (\n          <Box>\n            <Box mt={4} mb={2}>\n              <LinearProgress variant=\"determinate\" value={linkProgress} />\n            </Box>\n            <Typography variant=\"h5\">\n              {urlInfo.title.replace(\"&amp;\", \"&\")}\n            </Typography>\n            <Typography>HTML Version: {urlInfo.htmlVersion}</Typography>\n            <Typography>\n              {urlInfo.login\n                ? \"Has a login form\"\n                : \"Does not have a login form\"}\n            </Typography>\n            <Typography>\n              {urlInfo.links\n                ? urlInfo.links.filter((link) => !link.internal).length\n                : 0}{\" \"}\n              External Links\n              {linksChecked\n                ? urlInfo.links\n                  ? \" : \" +\n                    urlInfo.links.filter(\n                      (link) => link.accessible && !link.internal\n                    ).length +\n                    \" accessible\"\n                  : \"\"\n                : \": checking accessibility...\"}\n            </Typography>\n            <Typography>\n              {urlInfo.links\n                ? urlInfo.links.filter((link) => link.internal).length\n                : 0}{\" \"}\n              Internal Links\n              {linksChecked\n                ? urlInfo.links\n                  ? \" : \" +\n                    urlInfo.links.filter(\n                      (link) => link.accessible && link.internal\n                    ).length +\n                    \" accessible\"\n                  : \"\"\n                : \" : checking accessibility...\"}\n            </Typography>\n            <Typography variant=\"h1\">\n              {urlInfo.headings[0].count} H1 Tags\n            </Typography>\n            <Typography variant=\"h2\">\n              {urlInfo.headings[1].count} H2 Tags\n            </Typography>\n            <Typography variant=\"h3\">\n              {urlInfo.headings[2].count} H3 Tags\n            </Typography>\n            <Typography variant=\"h4\">\n              {urlInfo.headings[3].count} H4 Tags\n            </Typography>\n            <Typography variant=\"h5\">\n              {urlInfo.headings[4].count} H5 Tags\n            </Typography>\n            <Typography variant=\"h6\">\n              {urlInfo.headings[5].count} H6 Tags\n            </Typography>\n          </Box>\n        ) : error ? (\n          <Box mt={5}>\n            <Typography>{error}</Typography>\n          </Box>\n        ) : (\n          \"\"\n        )}\n      </Grid>\n    </Grid>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport { createMuiTheme, ThemeProvider } from \"@material-ui/core/styles\";\nimport App from \"./App\";\n\nconst theme = createMuiTheme({\n  palette: {\n    type: window.matchMedia(\"(prefers-color-scheme: dark)\").matches\n      ? \"dark\"\n      : \"light\",\n  },\n});\n\nReactDOM.render(\n  <ThemeProvider theme={theme}>\n    {/* CssBaseline kickstart an elegant, consistent, and simple baseline to build upon. */}\n    <CssBaseline />\n    <App />\n  </ThemeProvider>,\n  document.querySelector(\"#root\")\n);\n"],"sourceRoot":""}